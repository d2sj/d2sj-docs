# 正则表达式

正则表达式(Regular Expression)是一种文本模式，包括普通字符（例如，a 到 z 之间的字母）和特殊字符（称为"元字符"），可以用来描述和匹配字符串的特定模式。

正则表达式是一种用于模式匹配和搜索文本的工具。

正则表达式提供了一种灵活且强大的方式来查找、替换、验证和提取文本数据。

## 正则表达式元字符和特性

### 字符匹配

- 普通字符: 普通字符按照字面意义进行匹配; 例如匹配字母
	- 例: “a”将匹配到所有包含“a”字符的文本
- 元字符: 元字符具有特殊的含义,例如“\d” 匹配任意数字字符,“\w”匹配任意字母数字字符,“.”匹配任意字符(除了换行符`\n` `\r`)等

### 量词

- `?` : 匹配前面的模式零次或一次

- `*` : 匹配前面的模式零次或多次
- `+` : 匹配前面的模式一次或多次
- `{n}` : 匹配前面的模式n次
- `{n,}`: 匹配前面的模式至少n次
- `{n,m}` : 匹配前面的模式至少n次且不超过m次

### 字符类

- `[ ]`: 匹配括号内的任意一个字符
	- 例: `[abc]`将匹配字符 `a` `b` `c`
- `[^ ]` :匹配除了括号内第一个字符以外的任意一个字符
	- 例: `[^abc]`匹配除了字符 `a` `b` `c` 以外的任意字符

### 边界匹配

- `^`: 匹配字符串的开头
- `$`: 匹配字符串的结尾
- `\b`: 匹配单词边界,匹配一个字母/数字字符与非字母数字字符之间的边界
	- 例: `\babc\b` 会精确匹配字符串中的 `abc` ,不会匹配 `abcd` 或 `xabc`
	- 例: `\babc` 会匹配以abc开头的字符串,可以匹配 `abc` `abcd` ,但无法匹配 `xabc`
	- 例: `adc\b` 会匹配以abc结尾的字符串,可以匹配 `abc` `xabc` ,但无法匹配 `abcd`
- `\B`: 匹配非单词边界,匹配字母/数字字符与非字母数字字符之间的边界
	- 使用场景: 想要寻找一个字符串,但是这个字符串不应该是独立的串,而是想要匹配到的字符串的一部分
	- 例: `\Badc\B` 会匹配字符串中的 `xabcd` ,但无法匹配 `abc` `xabc` `abcd` ,只能匹配到 `abc` 前后有值的字符串
	- 例: `abc\B` 会匹配abc后面有值的字符串,可以匹配  `abcd` ,但无法匹配 `abc` `xabc`
	- 例: `\Badc` 会匹配abc前面有值的字符串,可以匹配 `xabc` ,但无法匹配 `abcd` `abc`

### 分组和捕获

- `( )` : 用于分组和捕获子表达式,可以将多个字符作为一个整体进行匹配,匹配的文本**会被保存**起来,可以通过后续的操作(如替换和引用)来使用这些文本
	- 例: `(x|bc)` 会匹配包含 `x` 和 `bc` 的字符串,将所有匹配按数组返回,下标0为匹配字符串,下标1开始为匹配到的字符串
- `(?: )` : 用于分组但不捕获子表达式,可以将多个字符作为一个整体进行匹配,匹配的文本**不会被保存**起来
	- 优点: 可以提高效率,尤其是需要大量匹配时;避免不必要的捕获可以减少内存的使用,尤其是在匹配长文本或复杂模式时

### 特殊字符

- `\` : 转义字符,用于匹配特殊字符本身
- `.` : 匹配任意字符(除了换行符 `\n` `\r` ),等价于`[^\n\r]`
- `|` : 表示逻辑**或**的关系,允许匹配多个可能的选项

## 语法

### 普通字符

- `[xyz]` : 表示匹配字符串中所有的xyz字符
- `[^xyz]` : 表示匹配字符串中除了xyz的所有的字符

- `[A-Z]` : 表示一个区间,匹配所有大写字母
- `[a-z]` : 表示一个区间,匹配所有小写字母
- `[\s\S]` : 匹配所有, `\s` 是匹配所有空白符,包括换行; `\S` 是匹配所有非空白符,不包括换行
- `\w` : 匹配字母,数字,下划线,等价于`[A-Za-z0-9_]`
- `\d` : 匹配任意一个阿拉伯数字(0-9)

### 非打印字符

- `\cx` : 匹配由x指明的控制字符[//todo 没明白怎么用]
	- 例: `\cM` 匹配一个Control-M或回车符 `\n` ; x的值必须为A-Z或a-z质疑,否则将c视为一个原义的 `c` 字符
- `\f` : 匹配一个换页符,等价于`\x0c` 和 `\cL`
- `\n` : 匹配一个换行符,等价于 `\x0a` 和 `\cJ`
- `\r` : 匹配一个回车符,等价于 `\x0d` 和 `\cM`
- `\s` : 匹配任何空白字符,包括空格,制表符,换页符等,等价于`[\f\n\r\t\v]`
	- 注: Unicode正则表达式会匹配全角空格符
- `\S` : 匹配任何非空白字符,等价于`[^ \f\n\r\t\v]`
- `\t` : 匹配一个制表符,等价于`[\x09]` 和 `\cI` (大写i)
- `\v` : 匹配一个垂直制表符,等价于 `\x0b` 和 `\cK`

### 特殊字符

有特殊含义的字符,在试图匹配他们时要特别对待,必须先使字符**转义**,即 将反斜杠字符 `\` 放在它们的前面

- `$` : 匹配输入字符串的结尾位置,如果设置了RegExp对象的Multiline属性,则`$`也匹配`\n` `\r`
	- 例: 要匹配$字符本身,请使用 `\$` ,后略
- `()` : 标记一个子表达式的开始和结束位置
- `*` : 匹配前面的子表达式零次或多次

